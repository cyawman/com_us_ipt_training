{% extends "::admin.html.twig" %}

{% block headTitle %}User List{% endblock %}

{% block bodyTitle %}<h1>User list</h1>{% endblock %}

{% block content %}
<table class="table table-striped table-hover table-condensed">
    <thead>
        <tr>
            <th>Username</th>
            <th>Email</th>
            <th>Company</th>
            <th>Active</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
    {% for entity in entities %}
        <tr>
            <td><a href="{{ path('user_show', { 'id': entity.id }) }}">{{ entity.username }}</a></td>
            <td>{{ entity.email }}</td>
            <td>{% if entity.company %}{{ entity.company.name }} {% endif %}</td>
            <td>{{ entity.isActive ? 'Yes':'No' }}</td>
            <td>
                <a href="{{ path('user_show', { 'id': entity.id }) }}"><i class="icon-eye-open"></i> View</a>
                {% if is_granted('ROLE_MANAGER') %}
                <br />
                <a href="{{ path('user_edit', { 'id': entity.id }) }}"><i class="icon-wrench"></i> Edit</a>
                {% endif %}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{% if is_granted('ROLE_MANAGER') %}
    <a class="btn btn-primary" href="{{ path('user_new') }}"><i class="icon-user icon-white"></i> Create User</a>
{% endif %}

{% endblock %}